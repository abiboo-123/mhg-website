---
import Layout from '../../../layouts/BaseLayout.astro';
import { events } from '../../../data/events';
import { Image } from 'astro:assets';


export async function getStaticPaths() {
  return events.map(event => ({
    params: { slug: event.slug }
  }));
}

const { slug } = Astro.params;
const event = events.find((e) => e.slug === slug);

if (!event) {
  throw new Error(`Event not found: ${slug}`);
}
const lang = 'ar';
---

<Layout title={event.title + ' – MHG Ingolstadt'} lang={lang}>
  <section class="max-w-3xl mx-auto px-4 py-12">
    <a href=`/${lang}/events` class="inline-block mb-4 text-[#0369a1] hover:underline text-sm">
        ← Back to All Events
      </a>
      
    <h1 class="text-3xl font-bold mb-4">{event.title}</h1>
    <div class="w-full bg-white flex justify-center items-center mb-6">
      <Image 
        src={event.image} 
        alt={event.title} 
        class="w-full h-auto object-contain rounded-md"
      />

    </div>
        <p class="text-sm text-gray-500 mb-2">📅 {event.date}</p>
    <p class="text-sm text-gray-500 mb-4">📍 {event.location}</p>
    <p class="mb-6">{event.description}</p>
    <p class="text-sm text-gray-500 mb-2">📅 {event.date}</p>
    <p class="text-sm text-gray-500 mb-2">📍 {event.location}</p>

    {event.speakers && (
    <p class="text-sm text-gray-700 mb-2">🎤 Speaker(s): {event.speakers.join(', ')}</p>
    )}

    {event.tags && (
    <div class="flex flex-wrap gap-2 mb-6">
        {event.tags.map(tag => (
        <span class="bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full">#{tag}</span>
        ))}
    </div>
    )}

    <a
    href={`/${lang}/register/${event.slug}`}
    class="inline-block bg-[#0369a1] text-white py-2 px-4 rounded hover:bg-blue-800 transition"
    >
    Register Now
    </a>

  </section>
</Layout>
